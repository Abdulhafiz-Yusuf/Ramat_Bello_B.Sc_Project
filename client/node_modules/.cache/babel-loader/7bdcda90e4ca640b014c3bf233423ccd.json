{"ast":null,"code":"var _jsxFileName = \"/home/abdulhafiz/PROJECTS/REACT_PROJECTS/Ramat_Bello_B.Sc_Project/client/src/views/BloodDetailPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Table, Card, Button } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBooking, fetchBloodbyId } from '../appStore/_actions/BloodBankAction';\nimport { viewPageAction } from '../appStore/_actions/userAction'; //import { useAuth0 } from \"@auth0/auth0-react\";\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BloodDetailPage(props) {\n  _s();\n\n  /*\n  TASK\n  ====\n  1.  Use useEffect to fetch bcDetail with id equal to id in props.match.params.bgId \n  2.  Use bcDetail.bg to fetch bcDetailPage Data where bg === req.body.bcDetail.bg\n  3.  Display bcDetailPage Data in tables\n  */\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const bgId = props.match.params.bgId; // const stateUser = useSelector(state => state.UserReducer.user);\n  // const booking = useSelector(state => state.BloodBankReducer.booking);\n  //const { user, loginWithRedirect } = useAuth0;\n\n  const [user, setUser] = useState({\n    users_id: 1,\n    email: 'talk2abdulhafiz@gmail.com'\n  });\n  useEffect(() => {\n    dispatch(fetchBloodbyId(bgId));\n  }, [dispatch, bgId]);\n  const bcDetail = useSelector(state => state.BloodBankReducer.bcDetail);\n  const bgDetail = useSelector(state => state.BloodBankReducer.bgDetail);\n\n  const bookingHandler = e => {\n    const id = e.target.id;\n    console.log({\n      bcDetail: bcDetail[id],\n      user: user,\n      bgDetail: bgDetail[id]\n    });\n\n    if (user) {\n      dispatch(addBooking(user.users_id, bcDetail[id], bgDetail[id])).then(response => {\n        if (response.payload) {\n          dispatch(viewPageAction('booking'));\n          history.push('/testPage');\n          alert('Booked Successfully');\n        }\n      });\n    } else {//      loginWithRedirect()\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" container mt-5 mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), bgDetail.length === 0 & bcDetail.length === 0 ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this) : bgDetail.length > 0 & bcDetail.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-danger text-center mb-3 font-weight-bold\",\n      children: [\"Sorry!! No  Available \", bgDetail[0].bg, /*#__PURE__*/_jsxDEV(\"sup\", {\n        children: bgDetail[0].rhd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 63\n      }, this), \" Blood Group....\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      className: \"text-danger d-flex justify-content-center align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-danger text-center mb-3 font-weight-bold\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center font-weight-bolder text-danger\",\n        children: [\"Available \", bgDetail[0].bg, /*#__PURE__*/_jsxDEV(\"sup\", {\n          children: bgDetail[0].rhd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 111\n        }, this), \" Blood Group\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        className: \"text-danger\",\n        bordered: true,\n        hover: true,\n        striped: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Center Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Qantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Payment Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: bcDetail.map((bg, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: bg.centername\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [bg.loclga, \" L.G.A,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 67\n                }, this), bg.locstate, \" State\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: bg.qty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  id: index,\n                  onClick: bookingHandler,\n                  className: \"ml-2 text-light bg-danger font-weight-bold\",\n                  children: \"Book Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 45\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BloodDetailPage, \"a0alzUoG1yUiP9WcnAHps9xPE4M=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = BloodDetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BloodDetailPage\");","map":{"version":3,"sources":["/home/abdulhafiz/PROJECTS/REACT_PROJECTS/Ramat_Bello_B.Sc_Project/client/src/views/BloodDetailPage.js"],"names":["React","useEffect","Table","Card","Button","useDispatch","useSelector","addBooking","fetchBloodbyId","viewPageAction","useState","useHistory","Loading","BloodDetailPage","props","history","dispatch","bgId","match","params","user","setUser","users_id","email","bcDetail","state","BloodBankReducer","bgDetail","bookingHandler","e","id","target","console","log","then","response","payload","push","alert","height","length","bg","rhd","map","index","centername","loclga","locstate","qty"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Table, Card, Button } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBooking, fetchBloodbyId } from '../appStore/_actions/BloodBankAction';\nimport { viewPageAction } from '../appStore/_actions/userAction';\n//import { useAuth0 } from \"@auth0/auth0-react\";\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom'\nimport Loading from '../components/Loading';\nexport default function BloodDetailPage(props) {\n    /*\nTASK\n    ====\n    1.  Use useEffect to fetch bcDetail with id equal to id in props.match.params.bgId \n    2.  Use bcDetail.bg to fetch bcDetailPage Data where bg === req.body.bcDetail.bg\n    3.  Display bcDetailPage Data in tables\n    */\n\n    let history = useHistory();\n    const dispatch = useDispatch()\n    const bgId = props.match.params.bgId;\n    // const stateUser = useSelector(state => state.UserReducer.user);\n    // const booking = useSelector(state => state.BloodBankReducer.booking);\n\n    //const { user, loginWithRedirect } = useAuth0;\n    const [user, setUser] = useState({\n        users_id: 1,\n        email: 'talk2abdulhafiz@gmail.com'\n    })\n    useEffect(() => {\n        dispatch(fetchBloodbyId(bgId))\n    }, [dispatch, bgId])\n\n    const bcDetail = useSelector(state => state.BloodBankReducer.bcDetail);\n    const bgDetail = useSelector(state => state.BloodBankReducer.bgDetail);\n\n\n    const bookingHandler = (e) => {\n        const id = e.target.id;\n        console.log({ bcDetail: bcDetail[id], user: user, bgDetail: bgDetail[id] })\n        if (user) {\n            dispatch(addBooking(user.users_id, bcDetail[id], bgDetail[id]))\n                .then(response => {\n                    if (response.payload) {\n                        dispatch(viewPageAction('booking'))\n                        history.push('/testPage')\n                        alert('Booked Successfully')\n\n                    }\n                }\n                )\n        }\n        else {\n            //      loginWithRedirect()\n        }\n    }\n    return (\n        <div className=' container mt-5 mb-5' >\n            <div style={{ height: '100px' }}></div>\n\n            {bgDetail.length === 0 & bcDetail.length === 0 ?\n                <Loading />\n                :\n                bgDetail.length > 0 & bcDetail.length === 0 ?\n                    <h2 className='text-danger text-center mb-3 font-weight-bold'>\n                        Sorry!! No  Available {bgDetail[0].bg}<sup>{bgDetail[0].rhd}</sup> Blood Group....</h2>\n                    :\n                    < Card className='text-danger d-flex justify-content-center align-items-center' >\n                        <h2 className='text-danger text-center mb-3 font-weight-bold'> </h2>\n\n                        <h1 className='text-center font-weight-bolder text-danger' >Available {bgDetail[0].bg}<sup>{bgDetail[0].rhd}</sup> Blood Group</h1>\n\n                        <Table className='text-danger' bordered hover striped>\n                            <thead>\n                                <tr>\n\n                                    <th>Center Name</th>\n                                    <th>Location</th>\n                                    <th>Qantity</th>\n                                    <th>Payment Status</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {bcDetail.map((bg, index) => {\n                                    return (\n                                        < tr key={index}>\n                                            <td>{bg.centername}</td>\n                                            <td>{bg.loclga} L.G.A,<br />{bg.locstate} State</td>\n                                            <td>{bg.qty}</td>\n                                            <td >\n                                                <Button\n                                                    id={index}\n                                                    onClick={bookingHandler}\n                                                    className='ml-2 text-light bg-danger font-weight-bold'>Book Now</Button>\n\n                                            </td>\n                                        </tr>\n                                    )\n                                })\n\n                                }\n                            </tbody>\n                        </Table>\n                    </Card >\n            }\n        </div >\n    )\n}\n"]},"metadata":{},"sourceType":"module"}