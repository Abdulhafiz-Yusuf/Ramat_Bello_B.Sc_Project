{"ast":null,"code":"import axios from 'axios';\nimport * as ACTION_TYPES from './types';\nimport { USER_SERVER } from '../../Config.json'; //=========================\n//  User actions\n//=========================\n\nexport function checkifUserExist(user) {\n  const request = axios.post(`${USER_SERVER}/checkIfUserExistInDB`, user).then(response => {\n    /**If userExist is True\n     * NB: Else case is handle in the userDashboard Component. on If is handled below\n     */\n    if (response.data.userExist) {\n      /**return full user info to redux..... \n      *since default value of userExist in redux is True, there is no need to return it again */\n      return {\n        type: ACTION_TYPES.USER_EXIST,\n        payload: {\n          userExist: response.data.userExist,\n          user: response.data.user\n        }\n      };\n    } else {\n      /**return userExist === false info to redux.....*/\n      return {\n        type: ACTION_TYPES.USER_DOES_NOT_EXIST,\n        payload: {\n          userExist: response.data.userExist\n        }\n      };\n    }\n  }).catch(err => {\n    return {\n      type: ACTION_TYPES.ERROR_CATCH,\n      payload: err.message\n    };\n  });\n  return request;\n}\nexport async function completeRegistration(dataToSubmit) {\n  //Collect complete user info from 'complete registration page' then post to db and return full user info\n  const request = await axios.post(`${USER_SERVER}/regCompletion`, dataToSubmit).then(response => {\n    return {\n      type: ACTION_TYPES.GET_USER_FULL_INFO,\n      payload: {\n        user: response.data.user,\n        success: response.data.success\n      }\n    };\n  }).catch(err => {\n    return {\n      type: ACTION_TYPES.ERROR_CATCH,\n      payload: err.message\n    };\n  });\n  return request;\n}\nexport function clearError() {\n  return {\n    type: ACTION_TYPES.CLEAR_ERROR,\n    payload: undefined\n  };\n}\nexport function viewPageAction(page) {\n  return {\n    type: ACTION_TYPES.VIEWPAGE,\n    payload: page\n  };\n}\nexport async function makeADonor(userId) {\n  const request = await axios.put(`${USER_SERVER}/makeADonor`, userId).then(response => {\n    return {\n      type: ACTION_TYPES.MAKEADONOR,\n      payload: response.data\n    };\n  }).catch(err => {\n    return {\n      type: ACTION_TYPES.ERROR_CATCH,\n      payload: err.message\n    };\n  });\n  return request;\n}\nexport async function searchDonor(userId) {\n  const request = await axios.put(`${USER_SERVER}/makeADonor`, userId).then(response => {\n    return {\n      type: ACTION_TYPES.MAKEADONOR,\n      payload: response.data\n    };\n  }).catch(err => {\n    return {\n      type: ACTION_TYPES.ERROR_CATCH,\n      payload: err.message\n    };\n  });\n  return request;\n}","map":{"version":3,"sources":["/home/abdulhafiz/PROJECTS/REACT_PROJECTS/Ramat_Bello_B.Sc_Project/client/src/appStore/_actions/userAction.js"],"names":["axios","ACTION_TYPES","USER_SERVER","checkifUserExist","user","request","post","then","response","data","userExist","type","USER_EXIST","payload","USER_DOES_NOT_EXIST","catch","err","ERROR_CATCH","message","completeRegistration","dataToSubmit","GET_USER_FULL_INFO","success","clearError","CLEAR_ERROR","undefined","viewPageAction","page","VIEWPAGE","makeADonor","userId","put","MAKEADONOR","searchDonor"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport * as ACTION_TYPES from './types';\nimport { USER_SERVER } from '../../Config.json';\n\n\n\n//=========================\n//  User actions\n//=========================\n\nexport function checkifUserExist(user) {\n    const request = axios.post(`${USER_SERVER}/checkIfUserExistInDB`, user)\n        .then(response => {\n            /**If userExist is True\n             * NB: Else case is handle in the userDashboard Component. on If is handled below\n             */\n            if (response.data.userExist) {\n                /**return full user info to redux..... \n                *since default value of userExist in redux is True, there is no need to return it again */\n                return {\n                    type: ACTION_TYPES.USER_EXIST,\n                    payload: { userExist: response.data.userExist, user: response.data.user }\n                }\n            }\n            else {\n                /**return userExist === false info to redux.....*/\n                return {\n                    type: ACTION_TYPES.USER_DOES_NOT_EXIST,\n                    payload: { userExist: response.data.userExist }\n                }\n            }\n        })\n        .catch(err => {\n            return {\n                type: ACTION_TYPES.ERROR_CATCH,\n                payload: err.message\n            }\n        })\n    return request\n}\n\n\nexport async function completeRegistration(dataToSubmit) {\n    //Collect complete user info from 'complete registration page' then post to db and return full user info\n    const request = await axios.post(`${USER_SERVER}/regCompletion`, dataToSubmit)\n        .then(response => {\n            return ({\n                type: ACTION_TYPES.GET_USER_FULL_INFO,\n                payload: { user: response.data.user, success: response.data.success }\n            })\n        })\n        .catch(err => {\n            return {\n                type: ACTION_TYPES.ERROR_CATCH,\n                payload: err.message\n            }\n        })\n    return request\n}\n\nexport function clearError() {\n    return ({\n        type: ACTION_TYPES.CLEAR_ERROR,\n        payload: undefined\n    })\n}\n\n\nexport function viewPageAction(page) {\n    return ({\n        type: ACTION_TYPES.VIEWPAGE,\n        payload: page\n    })\n}\n\n\n\nexport async function makeADonor(userId) {\n    const request = await axios.put(`${USER_SERVER}/makeADonor`, userId)\n        .then(response => {\n            return ({\n                type: ACTION_TYPES.MAKEADONOR,\n                payload: response.data\n            })\n        })\n        .catch(err => {\n            return {\n                type: ACTION_TYPES.ERROR_CATCH,\n                payload: err.message\n            }\n        })\n    return request\n}\n\n\nexport async function searchDonor(userId) {\n    const request = await axios.put(`${USER_SERVER}/makeADonor`, userId)\n        .then(response => {\n            return ({\n                type: ACTION_TYPES.MAKEADONOR,\n                payload: response.data\n            })\n        })\n        .catch(err => {\n            return {\n                type: ACTION_TYPES.ERROR_CATCH,\n                payload: err.message\n            }\n        })\n    return request\n}\n"]},"metadata":{},"sourceType":"module"}