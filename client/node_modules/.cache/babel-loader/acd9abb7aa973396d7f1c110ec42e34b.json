{"ast":null,"code":"var _jsxFileName = \"/home/abdulhafiz/PROJECTS/REACT_PROJECTS/Ramat_Bello_B.Sc_Project/client/src/views/Dashboard/UserDashBoard.js\",\n    _s = $RefreshSig$();\n\n// src/views/profile.js\nimport React, { useEffect, useState } from \"react\"; // import { useAuth0 } from \"@auth0/auth0-react\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { checkifUserExist } from '../../appStore/_actions/userAction';\nimport RegCompletion from \"./RegCompletion\";\nimport Profile from \"./Profile\";\nimport BookingPage from \"./BookingPage\";\nimport PaymentPage from \"./PaymentPage\";\nimport DashBoardMenu from \"./DashBoardMenu\";\nimport Loading from '../../components/Loading.js';\nimport { readBooking } from \"../../appStore/_actions/BloodBankAction\";\n/*\n=========================\n  USERDASHBOARD PAGE\n=========================\n              Tasks\n             ========\n             1. After successful logIn/SignUp from Auth0 or Firebase this page is called\n             2. Use User Identity Info from Auth0 or Firebase to check if user already already exist in DB.\n                if User Exist in DB:\n                {\n                    Fetch Full User info from DB and DisplayUserProfile User Profile Page.\n                    HINTS:\n                    1.  use dispatch(checkifUserExist(user)) to check if user Exist in DB\n                        &&  if(Exist):\n                            Fectch full User info from DB\n                    2.  Else use 'UserExist' value in redux to displayUserProfile Registration Completion page\n                }\n                else:\n                    DisplayUserProfile Registration Completion Page to collect full user profile.\n                      */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserDashBoard() {\n  _s();\n\n  const stateViewPage = useSelector(state => state.UserReducer.ViewPage);\n  const stateUser = useSelector(state => state.UserReducer.user);\n  const stateUserExist = useSelector(state => state.UserReducer.UserExist);\n  const [user, setUser] = useState({\n    users_Id: 1,\n    email: 'talk2abdulhafiz@gmail.com'\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (user) {\n      dispatch(checkifUserExist(user)).then(response => {\n        if (response.payload.userExist) {\n          dispatch(readBooking(user)).then(booking => console.log(response.payload));\n        }\n      });\n    }\n  }, [dispatch, user]);\n\n  const displayUserProfile = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-danger text-center mb-3 font-weight-bold\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-uppercase\",\n          children: stateUser[0].username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 76\n        }, this), \" Welcome to 9jaBloodBank\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex border border-danger\",\n        children: [/*#__PURE__*/_jsxDEV(DashBoardMenu, {\n          user: stateUser[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center border border-danger flex-grow-1\",\n          children: stateViewPage === 'booking' ?\n          /*#__PURE__*/\n          // user & userExist\n          _jsxDEV(BookingPage, {\n            user_id: stateUser[0].users_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this) : stateViewPage === 'payment' ? /*#__PURE__*/_jsxDEV(PaymentPage, {\n            user: stateUser[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Profile, {\n            user: stateUser[0],\n            bg: stateUser[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5 container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), !stateUserExist & stateUser ? /*#__PURE__*/_jsxDEV(RegCompletion, {\n      user: stateUser[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }, this) : !stateUser ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }, this) : stateUser.length > 0 && displayUserProfile()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserDashBoard, \"fr4S1OknWCqjsTuY50FPgFxdB2I=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = UserDashBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDashBoard\");","map":{"version":3,"sources":["/home/abdulhafiz/PROJECTS/REACT_PROJECTS/Ramat_Bello_B.Sc_Project/client/src/views/Dashboard/UserDashBoard.js"],"names":["React","useEffect","useState","useSelector","useDispatch","checkifUserExist","RegCompletion","Profile","BookingPage","PaymentPage","DashBoardMenu","Loading","readBooking","UserDashBoard","stateViewPage","state","UserReducer","ViewPage","stateUser","user","stateUserExist","UserExist","setUser","users_Id","email","dispatch","then","response","payload","userExist","booking","console","log","displayUserProfile","username","users_id","height","length"],"mappings":"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","sourcesContent":["// src/views/profile.js\nimport React, { useEffect, useState } from \"react\";\n// import { useAuth0 } from \"@auth0/auth0-react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { checkifUserExist } from '../../appStore/_actions/userAction'\nimport RegCompletion from \"./RegCompletion\";\nimport Profile from \"./Profile\";\nimport BookingPage from \"./BookingPage\";\nimport PaymentPage from \"./PaymentPage\";\nimport DashBoardMenu from \"./DashBoardMenu\";\nimport Loading from '../../components/Loading.js'\nimport { readBooking } from \"../../appStore/_actions/BloodBankAction\";\n\n\n/*\n=========================\n  USERDASHBOARD PAGE\n=========================\n              Tasks\n             ========\n             1. After successful logIn/SignUp from Auth0 or Firebase this page is called\n             2. Use User Identity Info from Auth0 or Firebase to check if user already already exist in DB.\n                if User Exist in DB:\n                {\n                    Fetch Full User info from DB and DisplayUserProfile User Profile Page.\n                    HINTS:\n                    1.  use dispatch(checkifUserExist(user)) to check if user Exist in DB\n                        &&  if(Exist):\n                            Fectch full User info from DB\n                    2.  Else use 'UserExist' value in redux to displayUserProfile Registration Completion page\n                }\n                else:\n                    DisplayUserProfile Registration Completion Page to collect full user profile.\n                      */\nexport default function UserDashBoard() {\n\n    const stateViewPage = useSelector(state => state.UserReducer.ViewPage);\n    const stateUser = useSelector(state => state.UserReducer.user);\n    const stateUserExist = useSelector(state => state.UserReducer.UserExist);\n\n    const [user, setUser] = useState({ users_Id: 1, email: 'talk2abdulhafiz@gmail.com', })\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (user) {\n            dispatch(checkifUserExist(user))\n                .then(response => {\n                    if (response.payload.userExist) {\n                        dispatch(readBooking(user))\n                            .then(booking => console.log(response.payload))\n                    }\n\n                })\n        }\n    }, [dispatch, user])\n\n\n    const displayUserProfile = () => {\n        return (< div >\n            <h2 className='text-danger text-center mb-3 font-weight-bold'> <span className='text-uppercase' >\n                {stateUser[0].username}</span> Welcome to 9jaBloodBank\n                            </h2>\n\n            <div className='d-flex border border-danger'>\n                <DashBoardMenu user={stateUser[0]} />\n                <div className='d-flex justify-content-center border border-danger flex-grow-1'>\n\n\n                    {/* <DashBoardView user_id={stateUser[0].users_id} user={stateUser[0]} bg={stateUser[0]} /> */}\n                    {stateViewPage === 'booking' ?\n                        // user & userExist\n                        <BookingPage user_id={stateUser[0].users_id} />\n                        :\n                        stateViewPage === 'payment'\n                            ?\n                            <PaymentPage user={stateUser[0]} />\n                            :\n                            <Profile user={stateUser[0]} bg={stateUser[0]} />\n                    }\n                </div >\n            </div>\n        </div >\n        )\n    }\n\n\n\n\n    return (\n        <div className='mt-5 container'>\n            <div style={{ height: '100px' }}></div>\n            {\n                !stateUserExist & stateUser ?\n                    < RegCompletion user={stateUser[0]} />\n                    :\n                    !stateUser ?\n\n                        <Loading />\n                        :\n                        stateUser.length > 0 &&\n                        displayUserProfile()\n\n\n            }\n\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}